{"version":3,"sources":["Unit.js"],"names":["Emiter","require","UnitColor","cc","Class","extends","Component","properties","sprite","Sprite","valueLable","Label","unitValue","moveValue","onLoad","node","destroyNode","_destroyNode","bind","moveUnit","_moveUnit","getUnitValue","_getUnitValue","setUnitValue","_setUnitValue","destroy","vector2","time","tween","to","position","start","num","string","_changeColorSprite","scale","easing","color","VALUE_2","VALUE_4","VALUE_8","VALUE_16","VALUE_32","VALUE_64","VALUE_128","VALUE_256","VALUE_512","VALUE_1024","VALUE_2048","VALUE_4096","VALUE_8192"],"mappings":"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","file":"Unit.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Unit","sourcesContent":["const Emiter = require('Emitter');\r\nconst UnitColor = require('./UnitColor');\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        sprite: cc.Sprite,\r\n        valueLable: cc.Label,\r\n        unitValue: 0,\r\n        moveValue: 200,\r\n    },\r\n\r\n    onLoad() {\r\n        this.node.destroyNode = this._destroyNode.bind(this);\r\n        this.node.moveUnit = this._moveUnit.bind(this);\r\n        this.node.getUnitValue = this._getUnitValue.bind(this);\r\n        this.node.setUnitValue = this._setUnitValue.bind(this);\r\n    },\r\n\r\n    _destroyNode() {\r\n        this.node.destroyNode = null;\r\n        this.node.moveUnit = null;\r\n        this.node.getUnitValue = null;\r\n        this.node.setUnitValue = null;\r\n        this.node.destroy();\r\n    },\r\n\r\n    _moveUnit(vector2) {\r\n        let time = 0.04;\r\n        cc.tween(this.node)\r\n            .to(time, { position: vector2 })\r\n            .start();\r\n    },\r\n\r\n    _getUnitValue() {\r\n        return this.unitValue;\r\n    },\r\n\r\n    _setUnitValue(num) {\r\n        this.valueLable.string = num;\r\n        this.unitValue = num;\r\n        this._changeColorSprite(num);\r\n        cc.tween(this.node)\r\n            .to(0.02, { scale: 1.1 }, { easing: 'elasticOut' })\r\n            .to(0.06, { scale: 1 })\r\n            .start();\r\n    },\r\n\r\n    _changeColorSprite(num) {\r\n        switch (num) {\r\n            case 2: this.sprite.node.color = UnitColor.VALUE_2;\r\n                break;\r\n            case 4: this.sprite.node.color = UnitColor.VALUE_4;\r\n                break;\r\n            case 8: this.sprite.node.color = UnitColor.VALUE_8;\r\n                break;\r\n            case 16: this.sprite.node.color = UnitColor.VALUE_16;\r\n                break;\r\n            case 32: this.sprite.node.color = UnitColor.VALUE_32;\r\n                break;\r\n            case 64: this.sprite.node.color = UnitColor.VALUE_64;\r\n                break;\r\n            case 128: this.sprite.node.color = UnitColor.VALUE_128;\r\n                break;\r\n            case 256: this.sprite.node.color = UnitColor.VALUE_256;\r\n                break;\r\n            case 512: this.sprite.node.color = UnitColor.VALUE_512;\r\n                break;\r\n            case 1024: this.sprite.node.color = UnitColor.VALUE_1024;\r\n                break;\r\n            case 2048: this.sprite.node.color = UnitColor.VALUE_2048;\r\n                break;\r\n            case 4096: this.sprite.node.color = UnitColor.VALUE_4096;\r\n                break;\r\n            case 8192: this.sprite.node.color = UnitColor.VALUE_8192;\r\n                break;\r\n        }\r\n    },\r\n});\r\n"]}