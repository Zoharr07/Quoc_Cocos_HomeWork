{"version":3,"sources":["HighScoreController.js"],"names":["Emiter","require","cc","Class","extends","Component","properties","clearScoreDataBtn","Button","scoreUnit","Prefab","leaderBoardScrollView","ScrollView","_scoreList","onLoad","instance","addEvent","_addScoreData","bind","node","on","_clearScoreData","forEach","element","destroy","name","score","_instanceScoreUnit","unit","instantiate","content","addChild","getComponent","setScoreData","push"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,2BAAmBL,GAAGM,MADd;AAERC,mBAAWP,GAAGQ,MAFN;AAGRC,+BAAuBT,GAAGU,UAHlB;AAIRC,oBAAY;AAJJ,KAHP;;AAULC,UAVK,oBAUI;AACLd,eAAOe,QAAP,CAAgBC,QAAhB,CAAyB,cAAzB,EAAyC,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAzC;AACA,aAAKX,iBAAL,CAAuBY,IAAvB,CAA4BC,EAA5B,CAA+B,OAA/B,EAAwC,KAAKC,eAA7C,EAA8D,IAA9D;AACA;AACH,KAdI;AAgBLA,mBAhBK,6BAgBa;AACd,aAAKR,UAAL,CAAgBS,OAAhB,CAAwB,mBAAW;AAC/B,gBAAIC,WAAW,IAAf,EAAqB;AACrBA,oBAAQC,OAAR;AACH,SAHD;AAIA,aAAKX,UAAL,GAAkB,EAAlB;AACA;AACH,KAvBI;AAwBLI,iBAxBK,yBAwBSQ,IAxBT,EAwBeC,KAxBf,EAwBsB;AACvB,aAAKC,kBAAL,CAAwBF,IAAxB,EAA8BC,KAA9B;AACA;AACH,KA3BI;AA6BLC,sBA7BK,8BA6BcF,IA7Bd,EA6BoBC,KA7BpB,EA6B2B;AAC5B,YAAIE,OAAO1B,GAAG2B,WAAH,CAAe,KAAKpB,SAApB,CAAX;AACA,aAAKE,qBAAL,CAA2BmB,OAA3B,CAAmCC,QAAnC,CAA4CH,IAA5C;AACAA,aAAKI,YAAL,CAAkB,WAAlB,EAA+BC,YAA/B,CAA4CR,IAA5C,EAAkDC,KAAlD;AACA,aAAKb,UAAL,CAAgBqB,IAAhB,CAAqBN,IAArB;AACH;AAlCI;;AAoCL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDJ","file":"HighScoreController.js","sourceRoot":"../../../../../assets/Script/Controller","sourcesContent":["const Emiter = require('Emitter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        clearScoreDataBtn: cc.Button,\n        scoreUnit: cc.Prefab,\n        leaderBoardScrollView: cc.ScrollView,\n        _scoreList: [],\n    },\n\n    onLoad() {\n        Emiter.instance.addEvent('addScoreData', this._addScoreData.bind(this));\n        this.clearScoreDataBtn.node.on('click', this._clearScoreData, this);\n        // this._loadScoreSave();\n    },\n\n    _clearScoreData() {\n        this._scoreList.forEach(element => {\n            if (element == null) return;\n            element.destroy();\n        });\n        this._scoreList = [];\n        // this._saveScoreList();\n    },\n    _addScoreData(name, score) {\n        this._instanceScoreUnit(name, score);\n        // this._saveScoreList();\n    },\n\n    _instanceScoreUnit(name, score) {\n        let unit = cc.instantiate(this.scoreUnit)\n        this.leaderBoardScrollView.content.addChild(unit);\n        unit.getComponent('UnitScore').setScoreData(name, score);\n        this._scoreList.push(unit);\n    },\n\n    // _saveScoreList() {\n    //     localStorage[\"scoreList\"] = JSON.stringify(this._scoreList);\n    // },\n\n    // _loadScoreSave() {\n    //     if (JSON.parse(localStorage[\"scoreList\"]) != null) {\n    //         this._scoreList = JSON.parse(localStorage[\"scoreList\"]);\n    //     } else this._scoreList = [];\n    //     if (this._scoreList == []) return;\n    //     this._scoreList.forEach(element => {\n    //         if (element instanceof this.scoreUnit) this.leaderBoardScrollView.content.addChild(element);\n    //     });\n    // },\n});\n"]}