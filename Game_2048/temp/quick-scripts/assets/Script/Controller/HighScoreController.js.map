{"version":3,"sources":["HighScoreController.js"],"names":["Emiter","require","cc","Class","extends","Component","properties","clearScoreDataBtn","Button","scoreUnit","Prefab","leaderBoardScrollView","ScrollView","_scoreList","onLoad","instance","addEvent","_addScoreData","bind","node","on","_clearScoreData","forEach","element","destroy","name","score","_instanceScoreUnit","unit","instantiate","content","addChild","getComponent","setScoreData","push"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,2BAAmBL,GAAGM,MADd;AAERC,mBAAWP,GAAGQ,MAFN;AAGRC,+BAAuBT,GAAGU,UAHlB;AAIRC,oBAAY;AAJJ,KAHP;;AAULC,UAVK,oBAUI;AACLd,eAAOe,QAAP,CAAgBC,QAAhB,CAAyB,cAAzB,EAAyC,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAzC;AACA,aAAKX,iBAAL,CAAuBY,IAAvB,CAA4BC,EAA5B,CAA+B,OAA/B,EAAwC,KAAKC,eAA7C,EAA8D,IAA9D;AACA;AACH,KAdI;AAgBLA,mBAhBK,6BAgBa;AACd,aAAKR,UAAL,CAAgBS,OAAhB,CAAwB,mBAAW;AAC/B,gBAAIC,WAAW,IAAf,EAAqB;AACrBA,oBAAQC,OAAR;AACH,SAHD;AAIA,aAAKX,UAAL,GAAkB,EAAlB;AACA;AACH,KAvBI;AAwBLI,iBAxBK,yBAwBSQ,IAxBT,EAwBeC,KAxBf,EAwBsB;AACvB,aAAKC,kBAAL,CAAwBF,IAAxB,EAA8BC,KAA9B;AACA;AACH,KA3BI;AA6BLC,sBA7BK,8BA6BcF,IA7Bd,EA6BoBC,KA7BpB,EA6B2B;AAC5B,YAAIE,OAAO1B,GAAG2B,WAAH,CAAe,KAAKpB,SAApB,CAAX;AACA,aAAKE,qBAAL,CAA2BmB,OAA3B,CAAmCC,QAAnC,CAA4CH,IAA5C;AACAA,aAAKI,YAAL,CAAkB,WAAlB,EAA+BC,YAA/B,CAA4CR,IAA5C,EAAkDC,KAAlD;AACA,aAAKb,UAAL,CAAgBqB,IAAhB,CAAqBN,IAArB;AACH;AAlCI;;AAoCL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDJ","file":"HighScoreController.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Controller","sourcesContent":["const Emiter = require('Emitter');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        clearScoreDataBtn: cc.Button,\r\n        scoreUnit: cc.Prefab,\r\n        leaderBoardScrollView: cc.ScrollView,\r\n        _scoreList: [],\r\n    },\r\n\r\n    onLoad() {\r\n        Emiter.instance.addEvent('addScoreData', this._addScoreData.bind(this));\r\n        this.clearScoreDataBtn.node.on('click', this._clearScoreData, this);\r\n        // this._loadScoreSave();\r\n    },\r\n\r\n    _clearScoreData() {\r\n        this._scoreList.forEach(element => {\r\n            if (element == null) return;\r\n            element.destroy();\r\n        });\r\n        this._scoreList = [];\r\n        // this._saveScoreList();\r\n    },\r\n    _addScoreData(name, score) {\r\n        this._instanceScoreUnit(name, score);\r\n        // this._saveScoreList();\r\n    },\r\n\r\n    _instanceScoreUnit(name, score) {\r\n        let unit = cc.instantiate(this.scoreUnit)\r\n        this.leaderBoardScrollView.content.addChild(unit);\r\n        unit.getComponent('UnitScore').setScoreData(name, score);\r\n        this._scoreList.push(unit);\r\n    },\r\n\r\n    // _saveScoreList() {\r\n    //     localStorage[\"scoreList\"] = JSON.stringify(this._scoreList);\r\n    // },\r\n\r\n    // _loadScoreSave() {\r\n    //     if (JSON.parse(localStorage[\"scoreList\"]) != null) {\r\n    //         this._scoreList = JSON.parse(localStorage[\"scoreList\"]);\r\n    //     } else this._scoreList = [];\r\n    //     if (this._scoreList == []) return;\r\n    //     this._scoreList.forEach(element => {\r\n    //         if (element instanceof this.scoreUnit) this.leaderBoardScrollView.content.addChild(element);\r\n    //     });\r\n    // },\r\n});\r\n"]}