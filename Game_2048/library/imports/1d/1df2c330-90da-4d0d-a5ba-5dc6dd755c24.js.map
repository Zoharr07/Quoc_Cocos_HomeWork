{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Controller/assets\\Script\\Controller\\MainMenuController.js"],"names":["Emiter","require","cc","Class","extends","Component","properties","newGameBtn","Button","startGameBtn","replaySprite","Node","backMenuBtn","exitBtn","gamePlayNode","menuNode","playerNameInput","EditBox","soundMusicBtn","soundMusicOffSprite","_musicOn","soundEffectBtn","soundEffectOffSprite","_soundOn","onLoad","node","on","_newGameFunc","_startGameFunc","_backMenuFunc","_exitGame","_setSound","_setEffectSound","_initStart","active","instance","emit","string","_move","x","y","nodeObj","time","isActive","indx","t","tween","call","parallel","to","position","v2","easing","opacity","start","game","end"],"mappings":"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","file":"MainMenuController.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Controller","sourcesContent":["const Emiter = require('Emitter');\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        newGameBtn: cc.Button,\r\n        startGameBtn: cc.Button,\r\n        replaySprite: cc.Node,\r\n        backMenuBtn: cc.Button,\r\n        exitBtn: cc.Button,\r\n        gamePlayNode: cc.Node,\r\n        menuNode: cc.Node,\r\n        playerNameInput: cc.EditBox,\r\n\r\n        soundMusicBtn: cc.Button,\r\n        soundMusicOffSprite: cc.Node,\r\n        _musicOn: true,\r\n\r\n        soundEffectBtn: cc.Button,\r\n        soundEffectOffSprite: cc.Node,\r\n\r\n        _soundOn: true,\r\n    },\r\n\r\n    onLoad() {\r\n        this.newGameBtn.node.on('click', this._newGameFunc, this);\r\n        this.startGameBtn.node.on('click', this._startGameFunc, this);\r\n        this.backMenuBtn.node.on('click', this._backMenuFunc, this);\r\n        this.exitBtn.node.on('click', this._exitGame, this);\r\n\r\n        this.soundMusicBtn.node.on('click', this._setSound, this);\r\n        this.soundEffectBtn.node.on('click', this._setEffectSound, this);\r\n\r\n        this._initStart();\r\n    },\r\n\r\n    _initStart() {\r\n        this.gamePlayNode.active = false;\r\n        this.menuNode.active = true;\r\n        this._backMenuFunc();\r\n    },\r\n\r\n    _newGameFunc() {\r\n        Emiter.instance.emit('playSoundClick');\r\n        Emiter.instance.emit('canInput', true);\r\n        Emiter.instance.emit('setPlayerName', this.playerNameInput.string);\r\n        this._move(-1000, 0, this.menuNode, 1.0, false);\r\n        this._move(0, 0, this.gamePlayNode, 1.0, true);\r\n    },\r\n\r\n    _backMenuFunc() {\r\n        Emiter.instance.emit('playSoundClick');\r\n        Emiter.instance.emit('turnOffPopup');\r\n        Emiter.instance.emit('canInput', false);\r\n        this._move(0, 0, this.menuNode, 1.0, true);\r\n        this._move(1000, 0, this.gamePlayNode, 1.0, false);\r\n    },\r\n\r\n    _move(x, y, nodeObj, time, isActive) {\r\n\r\n        let indx = 0;\r\n        if (isActive == true) indx = 255;\r\n        let t = cc.tween;\r\n        t(nodeObj)\r\n            .call(() => {\r\n                if (isActive == true) nodeObj.active = isActive;\r\n            })\r\n            .parallel(\r\n                t().to(time, { position: cc.v2(x, y) }, { easing: 'quartOut' }),\r\n                t().to(time / 5, { opacity: indx }),\r\n            )\r\n            .call(() => {\r\n                if (isActive == false) nodeObj.active = isActive;\r\n            })\r\n            .start();\r\n    },\r\n\r\n    _exitGame() {\r\n        cc.game.end();\r\n    },\r\n\r\n    _startGameFunc() {\r\n        Emiter.instance.emit('startGame');\r\n        Emiter.instance.emit('turnOffPopup');\r\n        Emiter.instance.emit('canInput', true);\r\n        this.replaySprite.active = true;\r\n    },\r\n\r\n    _setSound() {\r\n        if (this._musicOn) {\r\n            this._musicOn = false;\r\n            this.soundMusicOffSprite.active = true;\r\n            Emiter.instance.emit('turnMusic', false);\r\n            return;\r\n        }\r\n        this._musicOn = true;\r\n        this.soundMusicOffSprite.active = false;\r\n        Emiter.instance.emit('turnMusic', true);\r\n    },\r\n\r\n    _setEffectSound() {\r\n        if (this._musicOn) {\r\n            this._musicOn = false;\r\n            this.soundEffectOffSprite.active = true;\r\n            Emiter.instance.emit('turnEffectSound', false);\r\n            return;\r\n        }\r\n        this._musicOn = true;\r\n        this.soundEffectOffSprite.active = false;\r\n        Emiter.instance.emit('turnEffectSound', true);\r\n    },\r\n});\r\n"]}