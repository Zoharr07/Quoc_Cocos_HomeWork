{"version":3,"sources":["../../../../../assets/Script/Controller/assets/Script/Controller/WinPopupController.js"],"names":["Emiter","require","cc","Class","extends","Component","properties","continuePlayBtn","Button","backGameplayBtn","_onPopup","onLoad","instance","addEvent","_turnOnPopup","bind","_turnOffPopup","node","on","_continuePlayFunc","_newGameBtn","score","emit","_move","x","y","nodeObj","time","isActive","indx","t","tween","parallel","to","position","v2","easing","opacity","start"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiBL,GAAGM,MADZ;AAERC,yBAAiBP,GAAGM,MAFZ;AAGRE,kBAAU;AAHF,KAHP;;AASLC,UATK,oBASI;AACLX,eAAOY,QAAP,CAAgBC,QAAhB,CAAyB,SAAzB,EAAoC,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApC;AACAf,eAAOY,QAAP,CAAgBC,QAAhB,CAAyB,cAAzB,EAAyC,KAAKG,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAAzC;AACA,aAAKR,eAAL,CAAqBU,IAArB,CAA0BC,EAA1B,CAA6B,OAA7B,EAAsC,KAAKC,iBAA3C,EAA8D,IAA9D;AACA,aAAKV,eAAL,CAAqBQ,IAArB,CAA0BC,EAA1B,CAA6B,OAA7B,EAAsC,KAAKE,WAA3C,EAAwD,IAAxD;AACH,KAdI;AAgBLN,gBAhBK,wBAgBQO,KAhBR,EAgBe;AAChB,YAAI,KAAKX,QAAT,EAAmB;AACnB,aAAKA,QAAL,GAAgB,IAAhB;AACAV,eAAOY,QAAP,CAAgBU,IAAhB,CAAqB,UAArB,EAAiC,KAAjC;AACA,aAAKC,KAAL,CAAW,CAAX,EAAc,CAAd,EAAiB,KAAKN,IAAtB,EAA4B,GAA5B,EAAiC,IAAjC;AACH,KArBI;AAuBLD,iBAvBK,2BAuBW;AACZ,aAAKO,KAAL,CAAW,CAAX,EAAc,IAAd,EAAoB,KAAKN,IAAzB,EAA+B,GAA/B,EAAoC,KAApC;AACA,aAAKP,QAAL,GAAgB,KAAhB;AACH,KA1BI;AA4BLU,eA5BK,yBA4BS;AACV,aAAKJ,aAAL;AACAhB,eAAOY,QAAP,CAAgBU,IAAhB,CAAqB,WAArB;AACH,KA/BI;AAiCLH,qBAjCK,+BAiCe;AAChB,aAAKH,aAAL;AACAhB,eAAOY,QAAP,CAAgBU,IAAhB,CAAqB,uBAArB;AACAtB,eAAOY,QAAP,CAAgBU,IAAhB,CAAqB,UAArB,EAAiC,IAAjC;AACH,KArCI;AAuCLC,SAvCK,iBAuCCC,CAvCD,EAuCIC,CAvCJ,EAuCOC,OAvCP,EAuCgBC,IAvChB,EAuCsBC,QAvCtB,EAuCgC;;AAEjC,YAAIC,OAAO,CAAX;AACA,YAAID,YAAY,IAAhB,EAAsBC,OAAO,GAAP;AACtB,YAAIC,IAAI5B,GAAG6B,KAAX;AACAD,UAAEJ,OAAF,EACKM,QADL,CAEQF,IAAIG,EAAJ,CAAON,IAAP,EAAa,EAAEO,UAAUhC,GAAGiC,EAAH,CAAMX,CAAN,EAASC,CAAT,CAAZ,EAAb,EAAwC,EAAEW,QAAQ,UAAV,EAAxC,CAFR,EAGQN,IAAIG,EAAJ,CAAON,OAAO,CAAd,EAAiB,EAAEU,SAASR,IAAX,EAAjB,CAHR,EAKKS,KALL;AAMH;AAlDI,CAAT","file":"WinPopupController.js","sourceRoot":"../../../../../assets/Script/Controller","sourcesContent":["const Emiter = require('Emitter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        continuePlayBtn: cc.Button,\n        backGameplayBtn: cc.Button,\n        _onPopup: false,\n    },\n\n    onLoad() {\n        Emiter.instance.addEvent('winGame', this._turnOnPopup.bind(this));\n        Emiter.instance.addEvent('turnOffPopup', this._turnOffPopup.bind(this));\n        this.continuePlayBtn.node.on('click', this._continuePlayFunc, this);\n        this.backGameplayBtn.node.on('click', this._newGameBtn, this);\n    },\n\n    _turnOnPopup(score) {\n        if (this._onPopup) return;\n        this._onPopup = true;\n        Emiter.instance.emit('canInput', false);\n        this._move(0, 0, this.node, 0.6, true);\n    },\n\n    _turnOffPopup() {\n        this._move(0, 1600, this.node, 0.6, false);\n        this._onPopup = false;\n    },\n\n    _newGameBtn() {\n        this._turnOffPopup();\n        Emiter.instance.emit('startGame');\n    },\n\n    _continuePlayFunc() {\n        this._turnOffPopup();\n        Emiter.instance.emit('continuePlayOverPoint');\n        Emiter.instance.emit('canInput', true);\n    },\n\n    _move(x, y, nodeObj, time, isActive) {\n\n        let indx = 0;\n        if (isActive == true) indx = 255;\n        let t = cc.tween;\n        t(nodeObj)\n            .parallel(\n                t().to(time, { position: cc.v2(x, y) }, { easing: 'quartOut' }),\n                t().to(time / 5, { opacity: indx }),\n            )\n            .start();\n    },\n});\n"]}