{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Controller/assets\\Script\\Controller\\WinPopupController.js"],"names":["Emiter","require","cc","Class","extends","Component","properties","continuePlayBtn","Button","backGameplayBtn","playerNameLable","Label","_onPopup","_playerName","onLoad","instance","addEvent","_turnOnPopup","bind","_turnOffPopup","_setPlayerName","node","on","_continuePlayFunc","_newGameBtn","score","emit","_move","x","y","nodeObj","time","isActive","indx","t","tween","parallel","to","position","v2","easing","opacity","start","name","string"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiBL,GAAGM,MADZ;AAERC,yBAAiBP,GAAGM,MAFZ;AAGRE,yBAAiBR,GAAGS,KAHZ;AAIRC,kBAAU,KAJF;AAKRC,qBAAa;AALL,KAHP;;AAWLC,UAXK,oBAWI;AACLd,eAAOe,QAAP,CAAgBC,QAAhB,CAAyB,SAAzB,EAAoC,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApC;AACAlB,eAAOe,QAAP,CAAgBC,QAAhB,CAAyB,cAAzB,EAAyC,KAAKG,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAAzC;AACAlB,eAAOe,QAAP,CAAgBC,QAAhB,CAAyB,eAAzB,EAA0C,KAAKI,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAA1C;AACA,aAAKX,eAAL,CAAqBc,IAArB,CAA0BC,EAA1B,CAA6B,OAA7B,EAAsC,KAAKC,iBAA3C,EAA8D,IAA9D;AACA,aAAKd,eAAL,CAAqBY,IAArB,CAA0BC,EAA1B,CAA6B,OAA7B,EAAsC,KAAKE,WAA3C,EAAwD,IAAxD;AACH,KAjBI;AAmBLP,gBAnBK,wBAmBQQ,KAnBR,EAmBe;AAChB,YAAI,KAAKb,QAAT,EAAmB;AACnB,aAAKA,QAAL,GAAgB,IAAhB;AACAZ,eAAOe,QAAP,CAAgBW,IAAhB,CAAqB,UAArB,EAAiC,KAAjC;AACA,aAAKC,KAAL,CAAW,CAAX,EAAc,CAAd,EAAiB,KAAKN,IAAtB,EAA4B,GAA5B,EAAiC,IAAjC;AACH,KAxBI;AA0BLF,iBA1BK,2BA0BW;AACZ,aAAKQ,KAAL,CAAW,CAAX,EAAc,IAAd,EAAoB,KAAKN,IAAzB,EAA+B,GAA/B,EAAoC,KAApC;AACA,aAAKT,QAAL,GAAgB,KAAhB;AACH,KA7BI;AA+BLY,eA/BK,yBA+BS;AACV,aAAKL,aAAL;AACAnB,eAAOe,QAAP,CAAgBW,IAAhB,CAAqB,WAArB;AACH,KAlCI;AAoCLH,qBApCK,+BAoCe;AAChB,aAAKJ,aAAL;AACAnB,eAAOe,QAAP,CAAgBW,IAAhB,CAAqB,uBAArB;AACA1B,eAAOe,QAAP,CAAgBW,IAAhB,CAAqB,UAArB,EAAiC,IAAjC;AACH,KAxCI;AA0CLC,SA1CK,iBA0CCC,CA1CD,EA0CIC,CA1CJ,EA0COC,OA1CP,EA0CgBC,IA1ChB,EA0CsBC,QA1CtB,EA0CgC;;AAEjC,YAAIC,OAAO,CAAX;AACA,YAAID,YAAY,IAAhB,EAAsBC,OAAO,GAAP;AACtB,YAAIC,IAAIhC,GAAGiC,KAAX;AACAD,UAAEJ,OAAF,EACKM,QADL,CAEQF,IAAIG,EAAJ,CAAON,IAAP,EAAa,EAAEO,UAAUpC,GAAGqC,EAAH,CAAMX,CAAN,EAASC,CAAT,CAAZ,EAAb,EAAwC,EAAEW,QAAQ,UAAV,EAAxC,CAFR,EAGQN,IAAIG,EAAJ,CAAON,OAAO,CAAd,EAAiB,EAAEU,SAASR,IAAX,EAAjB,CAHR,EAKKS,KALL;AAMH,KArDI;AAuDLtB,kBAvDK,0BAuDUuB,IAvDV,EAuDgB;AACjB,aAAK9B,WAAL,GAAmB8B,IAAnB;AACA,aAAKjC,eAAL,CAAqBkC,MAArB,GAA8BD,IAA9B;AACH;AA1DI,CAAT","file":"WinPopupController.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Controller","sourcesContent":["const Emiter = require('Emitter');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        continuePlayBtn: cc.Button,\r\n        backGameplayBtn: cc.Button,\r\n        playerNameLable: cc.Label,\r\n        _onPopup: false,\r\n        _playerName: '',\r\n    },\r\n\r\n    onLoad() {\r\n        Emiter.instance.addEvent('winGame', this._turnOnPopup.bind(this));\r\n        Emiter.instance.addEvent('turnOffPopup', this._turnOffPopup.bind(this));\r\n        Emiter.instance.addEvent('setPlayerName', this._setPlayerName.bind(this));\r\n        this.continuePlayBtn.node.on('click', this._continuePlayFunc, this);\r\n        this.backGameplayBtn.node.on('click', this._newGameBtn, this);\r\n    },\r\n\r\n    _turnOnPopup(score) {\r\n        if (this._onPopup) return;\r\n        this._onPopup = true;\r\n        Emiter.instance.emit('canInput', false);\r\n        this._move(0, 0, this.node, 0.6, true);\r\n    },\r\n\r\n    _turnOffPopup() {\r\n        this._move(0, 1600, this.node, 0.6, false);\r\n        this._onPopup = false;\r\n    },\r\n\r\n    _newGameBtn() {\r\n        this._turnOffPopup();\r\n        Emiter.instance.emit('startGame');\r\n    },\r\n\r\n    _continuePlayFunc() {\r\n        this._turnOffPopup();\r\n        Emiter.instance.emit('continuePlayOverPoint');\r\n        Emiter.instance.emit('canInput', true);\r\n    },\r\n\r\n    _move(x, y, nodeObj, time, isActive) {\r\n\r\n        let indx = 0;\r\n        if (isActive == true) indx = 255;\r\n        let t = cc.tween;\r\n        t(nodeObj)\r\n            .parallel(\r\n                t().to(time, { position: cc.v2(x, y) }, { easing: 'quartOut' }),\r\n                t().to(time / 5, { opacity: indx }),\r\n            )\r\n            .start();\r\n    },\r\n\r\n    _setPlayerName(name) {\r\n        this._playerName = name;\r\n        this.playerNameLable.string = name;\r\n    }\r\n});\r\n"]}