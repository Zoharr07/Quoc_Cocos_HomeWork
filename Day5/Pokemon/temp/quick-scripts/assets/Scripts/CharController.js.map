{"version":3,"sources":["CharController.js"],"names":["Emiter","require","cc","Class","extends","Component","properties","frameAnim","char","Node","_counter","onLoad","instance","addEvent","_goLeft","bind","_goRight","_jumpChar","_resetChar","update","dt","start","goLeft","moveBy","easing","easeQuarticActionOut","runAction","goRight","jump","jumpBy","easeInOut","position","v2","angle","_resetFlag","emit"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,CAAf;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,mBAAW,EADH;AAERC,cAAMN,GAAGO,IAFD;AAGRC,kBAAU;AAHF,KAFP;;AAQLC,UARK,oBAQI;AACLX,eAAOY,QAAP,GAAkB,IAAIZ,MAAJ,EAAlB;AACAA,eAAOY,QAAP,CAAgBC,QAAhB,CAAyB,QAAzB,EAAmC,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAnC;AACAf,eAAOY,QAAP,CAAgBC,QAAhB,CAAyB,SAAzB,EAAoC,KAAKG,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAApC;AACAf,eAAOY,QAAP,CAAgBC,QAAhB,CAAyB,MAAzB,EAAiC,KAAKI,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjC;AACAf,eAAOY,QAAP,CAAgBC,QAAhB,CAAyB,OAAzB,EAAkC,KAAKK,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,CAAlC;AACH,KAdI;AAgBLI,UAhBK,kBAgBEC,EAhBF,EAgBM,CAEV,CAlBI;AAoBLC,SApBK,mBAoBG;AACJ;AACH,KAtBI;AAwBLP,WAxBK,qBAwBK;AACN,YAAIQ,SAASpB,GAAGqB,MAAH,CAAU,GAAV,EAAe,CAAC,GAAhB,EAAqB,CAArB,CAAb;AACAD,eAAOE,MAAP,CAActB,GAAGuB,oBAAH,CAAwB,GAAxB,CAAd;AACA,aAAKjB,IAAL,CAAUkB,SAAV,CAAoBJ,MAApB;AACH,KA5BI;AA8BLN,YA9BK,sBA8BM;AACP,YAAIW,UAAUzB,GAAGqB,MAAH,CAAU,GAAV,EAAe,GAAf,EAAoB,CAApB,CAAd;AACAI,gBAAQH,MAAR,CAAetB,GAAGuB,oBAAH,CAAwB,GAAxB,CAAf;AACA,aAAKjB,IAAL,CAAUkB,SAAV,CAAoBC,OAApB;AACH,KAlCI;AAoCLV,aApCK,uBAoCO;AACR,YAAIW,OAAO1B,GAAG2B,MAAH,CAAU,GAAV,EAAe,CAAf,EAAkB,CAAlB,EAAqB,EAArB,EAAyB,CAAzB,CAAX;AACAD,aAAKJ,MAAL,CAAYtB,GAAG4B,SAAH,CAAa,GAAb,CAAZ;AACA,aAAKtB,IAAL,CAAUkB,SAAV,CAAoBE,IAApB;AACH,KAxCI;AA0CLV,cA1CK,wBA0CQ;AACT,aAAKV,IAAL,CAAUuB,QAAV,GAAqB7B,GAAG8B,EAAH,CAAM,GAAN,EAAW,GAAX,CAArB;AACA,aAAKxB,IAAL,CAAUyB,KAAV,GAAkB,CAAlB;AACA,aAAKC,UAAL;AACAlC,eAAOY,QAAP,CAAgBuB,IAAhB,CAAqB,WAArB,EAAkC,IAAlC;AACH;AA/CI,CAAT","file":"CharController.js","sourceRoot":"../../../../assets/Scripts","sourcesContent":["const Emiter = require('Emitter');\n\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        frameAnim: 40,\n        char: cc.Node,\n        _counter: 0,\n    },\n\n    onLoad() {\n        Emiter.instance = new Emiter();\n        Emiter.instance.addEvent(\"goleft\", this._goLeft.bind(this));\n        Emiter.instance.addEvent(\"goright\", this._goRight.bind(this));\n        Emiter.instance.addEvent(\"jump\", this._jumpChar.bind(this));\n        Emiter.instance.addEvent(\"reset\", this._resetChar.bind(this));\n    },\n\n    update(dt) {\n\n    },\n\n    start() {\n        //this._resetChar();\n    },\n\n    _goLeft() {\n        let goLeft = cc.moveBy(0.9, -100, 0);\n        goLeft.easing(cc.easeQuarticActionOut(0.7));\n        this.char.runAction(goLeft);\n    },\n\n    _goRight() {\n        let goRight = cc.moveBy(0.9, 100, 0);\n        goRight.easing(cc.easeQuarticActionOut(0.7));\n        this.char.runAction(goRight);\n    },\n\n    _jumpChar() {\n        let jump = cc.jumpBy(0.9, 0, 0, 50, 1);\n        jump.easing(cc.easeInOut(0.9));\n        this.char.runAction(jump);\n    },\n\n    _resetChar() {\n        this.char.position = cc.v2(480, 185);\n        this.char.angle = 0;\n        this._resetFlag();\n        Emiter.instance.emit('setbutton', true);\n    }\n\n\n});\n"]}