window.__require=function n(t,o,c){function i(s,a){if(!o[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!a&&u)return u(l,!0);if(e)return e(l,!0);throw new Error("Cannot find module '"+s+"'")}}var r=o[s]={exports:{}};t[s][0].call(r.exports,function(n){return i(t[s][1][n]||n)},r,r.exports,n,t,o,c)}return o[s].exports}for(var e="function"==typeof __require&&__require,s=0;s<c.length;s++)i(c[s]);return i}({SpineChar:[function(n,t,o){"use strict";cc._RF.push(t,"9f741vutiND/qNc0/netZSx","SpineChar"),cc.Class({extends:cc.Component,properties:{spAnim:sp.Skeleton,bullet:cc.Prefab,mainNode:cc.Node,_canMove:!0,_canJump:!0,jumpHeight:60,jumpDuration:1.2,jumpDistance:60,accel:0},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.spAnim.setMix("idle","walk",.2),this.spAnim.setMix("walk","idle",.2)},start:function(){},update:function(n){},onCollisionEnter:function(n,t){console.log("on collision enter"),cc.log(n,t),0==t.tag&&2==n.tag&&this._jump(),3===n.tag&&(this._canMove=!1,this._shot(n,t))},onCollisionStay:function(n,t){console.log("on collision stay"),n.tag},onCollisionExit:function(n,t){console.log("on collision exit")},_moveLeft:function(){var n=this;this.node.scaleX>0&&(this.node.scaleX*=-1),0!=this._canMove&&(this._canMove=!1,cc.tween(this.node).call(function(){n.spAnim.setAnimation(0,"walk",!1)}).by(.8,{position:cc.v2(-30,0)}).call(function(){n.spAnim.addAnimation(0,"idle",!0),n._canMove=!0}).start())},_moveRight:function(){var n=this;this.node.scaleX<0&&(this.node.scaleX*=-1),0!=this._canMove&&(this._canMove=!1,cc.tween(this.node).call(function(){n.spAnim.setAnimation(0,"walk",!1)}).by(.8,{position:cc.v2(30,0)}).call(function(){n.spAnim.addAnimation(0,"idle",!0)}).call(function(){n._canMove=!0}).start())},_jump:function(){cc.log(this._canJump),0!=this._canJump&&(this._canJump=!1,this._canMove=!1,this.jumpAction=this.setJumpAction(),this.node.runAction(this.jumpAction))},_shot:function(n,t){var o=1;this.node.scaleX<0&&(o=-1),this.spAnim.setAnimation(0,"shoot",!1);var c=cc.instantiate(this.bullet);this.mainNode.addChild(c),c.position=cc.v2(this.node.x+20*o,this.node.y+25),cc.tween(c).by(10,{position:cc.v2(1e3*o,0)}).start()},setJumpAction:function(){var n=this,t=this.jumpDistance;this.node.scaleX<0&&(t*=-1);var o=cc.jumpBy(this.jumpDuration,cc.v2(t,0),this.jumpHeight,1);return cc.sequence(cc.callFunc(function(){n.spAnim.setAnimation(0,"jump",!1)}),o,cc.callFunc(function(){n.spAnim.setAnimation(0,"idle",!0)}),cc.callFunc(function(){n._canMove=!0,n._canJump=!0}))},onKeyDown:function(n){switch(n.keyCode){case cc.macro.KEY.left:console.log("Press left key"),this._moveLeft();break;case cc.macro.KEY.right:console.log("Press right key"),this._moveRight();break;case cc.macro.KEY.space:console.log("Press space key"),this._shot()}}}),cc._RF.pop()},{}],bullet:[function(n,t,o){"use strict";cc._RF.push(t,"ccd3eKdzGdA0Y6ZKGOZaknz","bullet"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},onCollisionEnter:function(n,t){console.log("on enemy hit"),cc.log(n,t),3!=n.tag&&2!=n.tag||this.node.destroy()}}),cc._RF.pop()},{}],char:[function(n,t,o){"use strict";cc._RF.push(t,"ac2edOaQKhBLpZE+rgYzGoD","char"),cc.Class({extends:cc.Component,properties:{isFaling:!0,countTime:0},start:function(){cc.log(this.node.y)},update:function(n){this._falingFunc(n),this._flyUpFunc(n)},onCollisionEnter:function(n,t){console.log("on collision enter"),this.isFaling=!1,cc.log(n,t)},_falingFunc:function(n){this.isFaling&&(this.node.y+=100*-n,cc.log(this.node.y))},_flyUpFunc:function(n){this.isFaling||(this.countTime<=2?(this.countTime+=n,cc.log(this.countTime)):(this.node.scaleY=.75*.1,this.node.y+=100*n))}}),cc._RF.pop()},{}],enemy:[function(n,t,o){"use strict";cc._RF.push(t,"336b4TSc7FK450pR/o20jim","enemy"),cc.Class({extends:cc.Component,properties:{},start:function(){},onCollisionEnter:function(n,t){var o=this;console.log("on bullet hit"),4==n.tag&&(cc.log(n,t),cc.tween(this.node).delay(.1).call(function(){o.node.destroy()}).start())}}),cc._RF.pop()},{}],groundJs:[function(n,t,o){"use strict";cc._RF.push(t,"f46fcQOb+9OMqB6l5t1tqW1","groundJs"),cc.Class({extends:cc.Component,properties:{},start:function(){},onCollisionEnter:function(n,t){},onCollisionStay:function(n,t){0==n.tag&&n.node.y<-168&&(n.node.y=-168)}}),cc._RF.pop()},{}],ground:[function(n,t,o){"use strict";cc._RF.push(t,"d2a90mzYxhPGKvCHoB1mD2s","ground"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var n=cc.director.getCollisionManager();n.enabled=!0,n.enabledDrawBoundingBox=!0},start:function(){}}),cc._RF.pop()},{}],main:[function(n,t,o){"use strict";cc._RF.push(t,"3132dSSQpNAy5eFilxH7v8C","main"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var n=cc.director.getCollisionManager();n.enabled=!0,n.enabledDrawBoundingBox=!0},start:function(){}}),cc._RF.pop()},{}]},{},["char","ground","SpineChar","bullet","enemy","groundJs","main"]);